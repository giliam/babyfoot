\documentclass[a4paper,12pt]{report}
\usepackage[utf8]{inputenc}
\usepackage[francais]{babel}  % un troisième package
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
% Title Page
% Title Page
\title{Avant-projet du projet informatique}
\author{Matthieu Denoux - Groupe 1}


\begin{document}
\maketitle
\tableofcontents
\chapter{Présentation du sujet}
\section{Principe général}
\paragraph{}
Le sujet choisi a pour intitulé \textbf{Babyfoot en réseau}. Il s'agit de concevoir un système complet de jeu en réseau.
Le système serait donc séparé en deux parties, une serveur et une client. Chaque joueur pourrait donc se connecter à une partie
n'ayant pas encore comméncé et une fois le nombre de joueurs réunis (\emph{2 ou 4}), la partie serait lancée. Il faut donc réaliser à la fois 
le système réseau, l'interface graphique et imaginer un gameplay qui rende le jeu agréable.
\section{L'interface graphique}
\paragraph{}
Au niveau de l'interface graphique, il faudra réaliser plusieurs fenêtres successives de menus pour parvenir jusqu'au jeu lui-même.
\subsection{Menu principal}
\paragraph{}
Un premier menu, dit \emph{menu principal}, permettra de commencer une nouvelle partie en ligne, de rejoindre une partie
déjà en cours, de modifier les options ou bien de quitter le jeu.
\subsection{Commencer une partie}
\paragraph{}
Si l'on commence une nouvelle partie en ligne, on se retrouve dans une \og salle d'attente \fg. Là, il est possible de configurer la partie que l'on souhaite lancer, l'ouvrir à d'autres joueurs puis attendre que d'autres joueurs rejoignent la partie. Une fois que les équipes sont complètes, on peut lancer le jeu.
\subsection{Rejoindre une partie}
\paragraph{}
On peut aussi sélectionner une partie dans la liste des parties déjà commencées, dans la limite des places disponibles. On rejoint alors un salon similaire à celui décrit dans la section précédente où l'on attend que la partie soit complète avant que le meneur, celui qui a créé la partie, ne lance le jeu.
\subsection{Déroulement d'une partie}
\paragraph{}
Il y aurait deux gameplays différents : 
\begin{itemize}
    \item l'un entièrement manuel verrait le joueur maître de ses possibilités. Ainsi, les touches \og A \fg, \og Z \fg, \og E \fg, \og R \fg permettraient de sélectionner la canne que l'on souhaiterait manier. Les flèches \og Haut \fg et \og Bas \fg permettraient quant à elle de déplacer les cannes tandis que la barre espace commanderait le tir. Je ne pense pas réaliser plusieurs puissances de tir possibles mais cela pourrait consister en une amélioration de la richesse du gameplay.
    \item l'autre, principalement rencontrée dans les autres jeux de babyfoot trouvés en ligne, serait plus automatisée : les cannes se déplaceraient toutes ensemble de manière synchronisée avec les flèches \og Haut \fg et \og Bas \fg. Le tir pourrait être ou non automatisé selon que j'aurais le temps pour configurer cette fonctionnalité supplémentaire.
\end{itemize}
\subsection{Options}
\paragraph{}
Un petit menu sera consacré aux options, notamment le type de jeu que l'on souhaite utiliser (manuel ou automatisé, auquel cas jusqu'à quel point) et d'autres options.


\chapter{Analyse de la solution envisagée}
\section{Découpage en modules}
\paragraph{}
Je prévois de découper le code en trois modules principaux : 
\begin{itemize}
    \item L'interface graphique (rangée dans /gui)
    \item La partie réseau de l'application (rangée dans /network)
    \item Le c\oe{}ur algorithmique de l'application (rangée dans /core)
\end{itemize}
Chaque partie comportera donc plusieurs classes qui se chargeront chacune d'une des tâches du module parent.
\section{L'interface graphique}
\subsection{MainFrame.java}
\paragraph{}
Gère la fenêtre qui englobe tout le reste. On utilisera en fait des JPanel pour modifier le contenu de cette fenêtre. J'empêcherai dans un premier temps de modifier la taille de la fenêtre pour éviter d'avoir des problèmes de dessin du terrain de babyfoot à gérer. Cette classe contient le \textbf{main} du programme.
\subsection{BPanel.java}
\paragraph{}
Classe abstraite présentant certaines actions mécaniques quant aux caractéristiques des JPanel utilisés (header, background color, taille, layoutmanager, etc.). La plupart des panels ci-dessous en héritent.
\subsection{MenuPanel.java}
\paragraph{}
Gère le menu principal affiché à l'ouverture du jeu. Contient les boutons qui mèneront vers les principales actions citées plus haut (nouvelle partie, rejoindre, options, quitter).
\subsection{NewPanel.java}
\paragraph{}
Lorsque l'on lance une nouvelle partie, on obtient cet écran qui contiendra les principales options nécessaires pour configurer une partie puis l'ouvrir à des joueurs extérieurs. Une fois cette partie ouverte, on aboutit à une \emph{salle d'attente}.
\subsection{ServersPanel.java}
\paragraph{}
Gère la liste des parties actuellement en recherche de joueurs lorsque l'on cherche à rejoindre une partie. On sélectionne une partie dans cette liste puis on aboutit à une \emph{salle d'attente}.
\subsection{WaitingRoomPanel.java}
\paragraph{}
Une fois la partie configurée et ouverte, on aboutit dans cette salle d'attente qui attendra que certaines conditions soient réunies pour permettre au jeu d'être commencé. On peut \emph{aussi} y accéder depuis la partie \emph{rejoindre une partie}.
\subsection{GamePanel.java}
\paragraph{}
La partie à proprement parler. Donc le conteneur du dessin du terrain qui gère les éléments extérieurs, les événements et toute autre interaction avec le reste du code. Inclut une zone de dessin.
\subsection{GameZone.java}
\paragraph{}

\subsection{MenuPanel.java}
\paragraph{}
Gère le menu principal affiché à l'ouverture du jeu. Contient les boutons qui mèneront vers les principales actions citées plus haut (nouvelle partie, rejoindre, options, quitter).
\end{document}          
